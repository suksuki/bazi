# å…«å­—æ—ºè¡°ç®—æ³•å®Œæ•´å®¡æŸ¥æ–‡æ¡£

## ğŸ“‹ ç›®å½•

1. [ç®—æ³•æ€»è§ˆ](#ç®—æ³•æ€»è§ˆ)
2. [Phase 1: èŠ‚ç‚¹åˆå§‹åŒ–](#phase-1-èŠ‚ç‚¹åˆå§‹åŒ–)
3. [Phase 2: é‚»æ¥çŸ©é˜µæ„å»º](#phase-2-é‚»æ¥çŸ©é˜µæ„å»º)
4. [Phase 3: èƒ½é‡ä¼ æ’­è¿­ä»£](#phase-3-èƒ½é‡ä¼ æ’­è¿­ä»£)
5. [Phase 4: æ—ºè¡°åˆ†æ•°è®¡ç®—](#phase-4-æ—ºè¡°åˆ†æ•°è®¡ç®—)
6. [Phase 5: æœ€ç»ˆåˆ¤å®š](#phase-5-æœ€ç»ˆåˆ¤å®š)
7. [å‚æ•°åˆ†ç»„ä¸è°ƒä¼˜å»ºè®®](#å‚æ•°åˆ†ç»„ä¸è°ƒä¼˜å»ºè®®)

---

## ç®—æ³•æ€»è§ˆ

### æ ¸å¿ƒæ¶æ„ï¼šä¸‰é˜¶æ®µå›¾ç½‘ç»œæ¨¡å‹

```
è¾“å…¥: å…«å­—å››æŸ± + æ—¥ä¸» + å¤§è¿ + æµå¹´
  â†“
Phase 1: èŠ‚ç‚¹åˆå§‹åŒ– (initialize_nodes)
  â†’ è®¡ç®—åˆå§‹èƒ½é‡å‘é‡ H^(0) [12Ã—1]
  â†“
Phase 2: é‚»æ¥çŸ©é˜µæ„å»º (build_adjacency_matrix)
  â†’ æ„å»ºå…³ç³»çŸ©é˜µ A [12Ã—12]
  â†“
Phase 3: èƒ½é‡ä¼ æ’­è¿­ä»£ (propagate)
  â†’ è¿­ä»£è®¡ç®— H^(t+1) = damping Ã— A Ã— H^(t) + (1-damping) Ã— H^(0)
  â†“
Phase 4: æ—ºè¡°åˆ†æ•°è®¡ç®— (calculate_strength_score)
  â†’ è®¡ç®— Self_Team / Total_Energy Ã— 100
  â†“
Phase 5: æœ€ç»ˆåˆ¤å®š (SVM + Sigmoid + è§„åˆ™)
  â†’ è¾“å‡º: Strong / Weak / Balanced / Special_Strong / Follower
```

### å…³é”®å…¬å¼

1. **åˆå§‹èƒ½é‡**: `H0[i] = base_energy Ã— pillar_weight Ã— season_weight Ã— rooting_bonus Ã— ...`
2. **ä¼ æ’­è¿­ä»£**: `H^(t+1) = damping Ã— A Ã— H^(t) + (1-damping) Ã— H^(0)`
3. **æ—ºè¡°åˆ†æ•°**: `strength_score = (self_team_energy / total_energy) Ã— 100.0`
4. **Sigmoidæ¦‚ç‡**: `P(Strong) = 1 / (1 + exp(-k Ã— (E - Eâ‚€)))`
5. **æœ€ç»ˆåˆ¤å®š**: åŸºäºåˆ†æ•°ã€æ¦‚ç‡ã€SVMé¢„æµ‹çš„ç»¼åˆåˆ¤å®š

---

## Phase 1: èŠ‚ç‚¹åˆå§‹åŒ–

**ä½ç½®**: `GraphNetworkEngine.initialize_nodes()`

### 1.1 èŠ‚ç‚¹åˆ›å»º

åˆ›å»º12ä¸ªèŠ‚ç‚¹ï¼ˆ8ä¸ªåŸå±€ + 2ä¸ªå¤§è¿ + 2ä¸ªæµå¹´ï¼‰ï¼š
- **å¤©å¹²èŠ‚ç‚¹** (4ä¸ª): å¹´å¹²ã€æœˆå¹²ã€æ—¥å¹²ã€æ—¶å¹²
- **åœ°æ”¯èŠ‚ç‚¹** (4ä¸ª): å¹´æ”¯ã€æœˆæ”¯ã€æ—¥æ”¯ã€æ—¶æ”¯
- **å¤§è¿èŠ‚ç‚¹** (2ä¸ª): å¤§è¿å¤©å¹²ã€å¤§è¿åœ°æ”¯ï¼ˆå¯é€‰ï¼‰
- **æµå¹´èŠ‚ç‚¹** (2ä¸ª): æµå¹´å¤©å¹²ã€æµå¹´åœ°æ”¯ï¼ˆå¯é€‰ï¼‰

### 1.2 åˆå§‹èƒ½é‡è®¡ç®—

**æ ¸å¿ƒæ–¹æ³•**: `_calculate_node_initial_energy()`

#### åŸºç¡€èƒ½é‡è®¡ç®—

```python
base_energy = 1.0  # åŸºç¡€å•ä½èƒ½é‡
```

#### å‚æ•°ç»„1: å®«ä½æƒé‡ (Pillar Weights)

**é…ç½®è·¯å¾„**: `config['physics']['pillarWeights']`

| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `year` | 0.8 | 0.5-1.5 | å¹´æŸ±æƒé‡ |
| `month` | 1.2 | 0.5-2.0 | **æœˆä»¤æƒé‡ï¼ˆæœ€é‡è¦ï¼‰** |
| `day` | 1.0 | 0.5-1.5 | æ—¥æŸ±æƒé‡ |
| `hour` | 0.9 | 0.5-1.5 | æ—¶æŸ±æƒé‡ |

**è®¡ç®—å…¬å¼**:
```python
energy = base_energy Ã— pillar_weights[pillar_name]
```

**è°ƒä¼˜å»ºè®®**:
- æœˆä»¤æƒé‡æ˜¯æ ¸å¿ƒï¼Œå»ºè®®èŒƒå›´ 1.0-1.5
- å¹´æŸ±æƒé‡é€šå¸¸è¾ƒä½ï¼ˆ0.7-0.9ï¼‰
- æ—¶æŸ±æƒé‡ä¸­ç­‰ï¼ˆ0.8-1.0ï¼‰

#### å‚æ•°ç»„2: æœˆä»¤å­£èŠ‚æƒé‡ (Season Weights)

**é…ç½®è·¯å¾„**: `config['physics']['seasonWeights']`

**ä½œç”¨**: æ ¹æ®æœˆæ”¯åˆ¤æ–­æ—¥ä¸»æ˜¯å¦å¾—ä»¤

**è®¡ç®—é€»è¾‘**:
```python
month_branch = bazi[1][1]  # æœˆæ”¯
month_element = BRANCH_ELEMENTS[month_branch]  # æœˆæ”¯å…ƒç´ 

# åˆ¤æ–­æ—¥ä¸»æ˜¯å¦å¾—ä»¤
if month_element == dm_element:
    season_weight = 1.5  # å¾—ä»¤ï¼ˆå½“ä»¤ï¼‰
elif month_element == resource_element:
    season_weight = 1.2  # å¾—ç”Ÿï¼ˆå°æ˜Ÿå½“ä»¤ï¼‰
elif CONTROL[month_element] == dm_element:
    season_weight = 0.5  # è¢«å…‹ï¼ˆå¤±ä»¤ï¼‰
else:
    season_weight = 1.0  # ä¸­æ€§
```

**è°ƒä¼˜å»ºè®®**:
- å¾—ä»¤ç³»æ•°: 1.3-1.8ï¼ˆå»ºè®®1.5ï¼‰
- å¾—ç”Ÿç³»æ•°: 1.1-1.3ï¼ˆå»ºè®®1.2ï¼‰
- è¢«å…‹ç³»æ•°: 0.3-0.7ï¼ˆå»ºè®®0.5ï¼‰

#### å‚æ•°ç»„3: é€šæ ¹ç³»æ•° (Rooting Weight)

**é…ç½®è·¯å¾„**: `config['structure']['rootingWeight']`

**ä½œç”¨**: å¤©å¹²åœ¨åœ°æ”¯è—å¹²ä¸­æœ‰æ ¹æ—¶çš„èƒ½é‡åŠ æˆ

**è®¡ç®—é€»è¾‘**:
```python
if _has_root(stem_char, branch_char):
    # æ£€æŸ¥è—å¹²ä¸­æ˜¯å¦æœ‰æ—¥ä¸»å…ƒç´ 
    hidden_map = GENESIS_HIDDEN_MAP[branch_char]
    for hidden_stem, weight in hidden_map:
        if STEM_ELEMENTS[hidden_stem] == dm_element:
            root_ratio = weight  # è—å¹²æƒé‡ï¼ˆ0.0-1.0ï¼‰
            rooting_bonus = 1.0 + rooting_weight Ã— root_ratio
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `rootingWeight` | 1.0 | 0.5-2.0 | é€šæ ¹ç³»æ•° |

**è°ƒä¼˜å»ºè®®**:
- é€šæ ¹æ˜¯èº«å¼ºçš„é‡è¦æŒ‡æ ‡ï¼Œå»ºè®®èŒƒå›´ 1.0-1.5
- è¿‡é«˜çš„é€šæ ¹ç³»æ•°ä¼šå¯¼è‡´æ— æ ¹å¤©å¹²èƒ½é‡è¿‡ä½

#### å‚æ•°ç»„4: è‡ªåå¼ºæ ¹ (Same Pillar Bonus)

**é…ç½®è·¯å¾„**: `config['structure']['samePillarBonus']`

**ä½œç”¨**: å¤©å¹²ä¸åœ°æ”¯åŒæŸ±ä¸”æœ‰æ ¹æ—¶çš„é¢å¤–åŠ æˆ

**è®¡ç®—é€»è¾‘**:
```python
if stem_node.has_root and stem_node.is_same_pillar:
    energy *= same_pillar_bonus
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `samePillarBonus` | 1.2 | 1.0-2.0 | è‡ªåå¼ºæ ¹åŠ æˆ |

**è°ƒä¼˜å»ºè®®**:
- è‡ªåå¼ºæ ¹æ˜¯å¼ºæ ¹çš„ä¸€ç§ï¼Œå»ºè®®èŒƒå›´ 1.1-1.3

#### å‚æ•°ç»„5: é€å¹²åŠ æˆ (Exposed Boost)

**é…ç½®è·¯å¾„**: `config['structure']['exposedBoost']`

**ä½œç”¨**: åœ°æ”¯è—å¹²é€å‡ºåˆ°å¤©å¹²æ—¶çš„èƒ½é‡çˆ†å‘

**è®¡ç®—é€»è¾‘**:
```python
# æ£€æŸ¥å¤©å¹²æ˜¯å¦ä¸åœ°æ”¯è—å¹²ç›¸åŒ
if stem_char in [h[0] for h in hidden_map]:
    exposed_energy = hidden_stem_energy Ã— exposed_boost
    energy += exposed_energy
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `exposedBoost` | 1.5 | 1.0-3.0 | é€å¹²åŠ æˆç³»æ•° |

**è°ƒä¼˜å»ºè®®**:
- é€å¹²æ˜¯èƒ½é‡çˆ†å‘çš„é‡è¦æœºåˆ¶ï¼Œå»ºè®®èŒƒå›´ 1.3-2.0

#### å‚æ•°ç»„6: è—å¹²æ¯”ä¾‹ (Hidden Stem Ratios)

**é…ç½®è·¯å¾„**: `config['physics']['hiddenStemRatios']`

**ä½œç”¨**: åœ°æ”¯è—å¹²çš„èƒ½é‡åˆ†é…æ¯”ä¾‹

**è®¡ç®—é€»è¾‘**:
```python
hidden_map = GENESIS_HIDDEN_MAP[branch_char]
# ä¾‹å¦‚ï¼šå¯… = [('ç”²', 0.7), ('ä¸™', 0.2), ('æˆŠ', 0.1)]
for hidden_stem, weight in hidden_map:
    hidden_energy = base_energy Ã— weight Ã— hidden_stem_ratio
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `hiddenStemRatios` | 0.3 | 0.1-0.5 | è—å¹²èƒ½é‡æ¯”ä¾‹ |

**è°ƒä¼˜å»ºè®®**:
- è—å¹²æ˜¯åœ°æ”¯èƒ½é‡çš„é‡è¦æ¥æºï¼Œå»ºè®®èŒƒå›´ 0.2-0.4

#### å‚æ•°ç»„7: åäºŒé•¿ç”Ÿç³»æ•° (Life Stage Coefficients)

**é…ç½®è·¯å¾„**: `LIFE_STAGE_COEFFICIENTS` (ç¡¬ç¼–ç )

**ä½œç”¨**: æ ¹æ®å¤©å¹²åœ¨å„åœ°æ”¯çš„é•¿ç”ŸçŠ¶æ€è°ƒæ•´èƒ½é‡

**è®¡ç®—é€»è¾‘**:
```python
life_stage = TWELVE_LIFE_STAGES.get((stem_char, branch_char))
if life_stage:
    coefficient = LIFE_STAGE_COEFFICIENTS[life_stage]
    energy *= coefficient
```

**ç³»æ•°è¡¨**:
| çŠ¶æ€ | ç³»æ•° | è¯´æ˜ |
|------|------|------|
| é•¿ç”Ÿ/å¸æ—º/ä¸´å®˜ | 1.5 | å¼ºæ ¹çŠ¶æ€ |
| å† å¸¦ | 1.2 | æˆé•¿ä¸­ |
| æ²æµ´ | 1.0 | åŸºç¡€å€¼ |
| èƒ/å…» | 0.8 | èŒèŠ½ |
| è¡°/ç—…/æ­» | 0.5 | è™šå¼± |
| å¢“/ç» | 0.3 | æå¼± |

**è°ƒä¼˜å»ºè®®**:
- åäºŒé•¿ç”Ÿç³»æ•°æ˜¯ä¼ ç»Ÿç†è®ºï¼Œå»ºè®®ä¿æŒå½“å‰å€¼

#### å‚æ•°ç»„8: ç©ºäº¡æƒ©ç½š (Void Penalty)

**é…ç½®è·¯å¾„**: `config['structure']['voidPenalty']`

**ä½œç”¨**: ç©ºäº¡åœ°æ”¯çš„èƒ½é‡è¡°å‡

**è®¡ç®—é€»è¾‘**:
```python
if branch_char in void_branches:
    energy *= void_penalty
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `voidPenalty` | 0.5 | 0.0-1.0 | ç©ºäº¡æƒ©ç½šï¼ˆ0=ç©ºæ‰ï¼Œ1=ä¸ç©ºï¼‰ |

**è°ƒä¼˜å»ºè®®**:
- ç©ºäº¡æ˜¯ä¼ ç»Ÿç†è®ºï¼Œå»ºè®®èŒƒå›´ 0.3-0.7

#### å‚æ•°ç»„9: å­£èŠ‚ä¸»å¯¼é”å®š (Seasonal Dominance Lock)

**ä½ç½®**: `initialize_nodes()` ç¬¬367-375è¡Œ

**ä½œç”¨**: å½“ä»¤äº”è¡Œåˆå§‹èƒ½é‡åŠ æˆ

**è®¡ç®—é€»è¾‘**:
```python
if node.element == month_element:
    energy *= 1.3  # å½“ä»¤äº”è¡ŒåŠ æˆ
```

**è°ƒä¼˜å»ºè®®**:
- è¿™æ˜¯ç¡¬ç¼–ç çš„1.3å€åŠ æˆï¼Œå¯ä»¥è€ƒè™‘å‚æ•°åŒ–

#### å‚æ•°ç»„10: è‡ªåˆ‘æƒ©ç½š (Self-Punishment)

**ä½ç½®**: `initialize_nodes()` ç¬¬381-400è¡Œ

**ä½œç”¨**: è‡ªåˆ‘åœ°æ”¯ï¼ˆè¾°ã€åˆã€é…‰ã€äº¥å‡ºç°â‰¥2æ¬¡ï¼‰çš„èƒ½é‡å‰Šå‡

**è®¡ç®—é€»è¾‘**:
```python
if branch_char in self_punishment_branches:
    energy *= 0.5  # è‡ªåˆ‘æƒ©ç½šï¼šèƒ½é‡å‡åŠ
```

**è°ƒä¼˜å»ºè®®**:
- è¿™æ˜¯ç¡¬ç¼–ç çš„0.5å€æƒ©ç½šï¼Œå¯ä»¥è€ƒè™‘å‚æ•°åŒ–

#### å‚æ•°ç»„11: å¤§è¿æƒé‡ (Dayun Weights)

**ä½ç½®**: `initialize_nodes()` ç¬¬283-314è¡Œ

**ä½œç”¨**: å¤§è¿èŠ‚ç‚¹çš„ç‰¹æ®Šæƒé‡

**è®¡ç®—é€»è¾‘**:
```python
month_weight = pillar_weights['month']
dayun_branch_weight = month_weight Ã— 1.2  # å¤§è¿åœ°æ”¯æƒé‡
dayun_stem_weight = month_weight Ã— 0.8    # å¤§è¿å¤©å¹²æƒé‡
```

**è°ƒä¼˜å»ºè®®**:
- å¤§è¿åœ°æ”¯æƒé‡æ˜¯æœˆä»¤çš„1.2å€ï¼ˆç¡¬ç¼–ç ï¼‰
- å¤§è¿å¤©å¹²æƒé‡æ˜¯æœˆä»¤çš„0.8å€ï¼ˆç¡¬ç¼–ç ï¼‰
- å¯ä»¥è€ƒè™‘å‚æ•°åŒ–

#### å‚æ•°ç»„12: æµå¹´æƒé‡ (Liunian Weights)

**ä½ç½®**: `initialize_nodes()` ç¬¬316-342è¡Œ

**ä½œç”¨**: æµå¹´èŠ‚ç‚¹çš„ç‰¹æ®Šæƒé‡

**è®¡ç®—é€»è¾‘**:
```python
liunian_power = 2.0  # æµå¹´æƒåŠ›ç³»æ•°ï¼ˆç¡¬ç¼–ç ï¼‰
energy = base_energy Ã— liunian_power Ã— 1.5  # æµå¹´åˆå§‹èƒ½é‡å¢å¼º
```

**è°ƒä¼˜å»ºè®®**:
- æµå¹´æƒåŠ›ç³»æ•°æ˜¯ç¡¬ç¼–ç çš„2.0
- å¯ä»¥è€ƒè™‘å‚æ•°åŒ–

---

## Phase 2: é‚»æ¥çŸ©é˜µæ„å»º

**ä½ç½®**: `GraphNetworkEngine.build_adjacency_matrix()`

### 2.1 çŸ©é˜µåˆå§‹åŒ–

```python
N = len(self.nodes)  # é€šå¸¸ä¸º12
A = np.zeros((N, N))  # 12Ã—12 é›¶çŸ©é˜µ
```

### 2.2 æƒé‡è®¡ç®—ï¼ˆéå†æ‰€æœ‰èŠ‚ç‚¹å¯¹ï¼‰

#### å‚æ•°ç»„13: äº”è¡Œç”Ÿå…‹æƒé‡

**é…ç½®è·¯å¾„**: `config['flow']`

**è®¡ç®—é€»è¾‘**:
```python
# ç”Ÿï¼ˆGenerationï¼‰
if GENERATION[node_j.element] == node_i.element:
    gen_weight = generation_efficiency Ã— base_weight
    
# å…‹ï¼ˆControlï¼‰
if CONTROL[node_j.element] == node_i.element:
    ctrl_weight = -control_impact Ã— base_weight
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `generationEfficiency` | 1.2 | 0.5-2.0 | ç”ŸåŠ©æ•ˆç‡ |
| `controlImpact` | 5.0 | 0.1-10.0 | **å…‹åˆ¶å½±å“å¼ºåº¦** |

**è°ƒä¼˜å»ºè®®**:
- `controlImpact` æ˜¯æ ¸å¿ƒå‚æ•°ï¼Œå»ºè®®èŒƒå›´ 3.0-7.0
- è¿‡é«˜çš„ `controlImpact` ä¼šå¯¼è‡´è¢«å…‹èŠ‚ç‚¹èƒ½é‡è¿‡ä½

#### å‚æ•°ç»„14: æ¶¦å±€æ•ˆåº” (Moisture Boost)

**ä½ç½®**: `build_adjacency_matrix()` ç¬¬693-708è¡Œ

**ä½œç”¨**: æ°´æ¶¦åœŸç”Ÿé‡‘çš„ç‰¹æ®Šæ•ˆåº”

**è®¡ç®—é€»è¾‘**:
```python
if (node_j.element == 'earth' and node_i.element == 'metal' and
    has_water):
    moisture_boost = flow_config.get('earthMetalMoistureBoost', 1.5)
    weight = weight Ã— moisture_boost
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `earthMetalMoistureBoost` | 1.5 | 1.0-2.0 | æ¶¦å±€åŠ æˆ |

**è°ƒä¼˜å»ºè®®**:
- æ¶¦å±€æ˜¯ç‰¹æ®Šæ•ˆåº”ï¼Œå»ºè®®ä¿æŒ1.5

#### å‚æ•°ç»„15: å¤©å¹²äº”åˆ (Stem Five Combination)

**é…ç½®è·¯å¾„**: `config['interactions']['stemFiveCombination']`

**è®¡ç®—é€»è¾‘**:
```python
if stem_combinations.get(node_i.char) == node_j.char:
    # æ£€æŸ¥åˆåŒ–æ¡ä»¶
    if meet_threshold:
        weight += combination_bonus  # åˆåŒ–å¢ç›Š
    else:
        weight -= combination_penalty  # åˆç»ŠæŸè€—
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `threshold` | 0.7 | 0.5-1.0 | åˆåŒ–é˜ˆå€¼ |
| `bonus` | 2.0 | 1.0-3.0 | åˆåŒ–å¢ç›Š |
| `penalty` | 0.3 | 0.0-1.0 | åˆç»ŠæŸè€— |
| `jealousyDamping` | 0.3 | 0.0-0.5 | äº‰åˆæŸè€— |

**è°ƒä¼˜å»ºè®®**:
- åˆåŒ–é˜ˆå€¼å»ºè®®èŒƒå›´ 0.6-0.8
- åˆåŒ–å¢ç›Šå»ºè®®èŒƒå›´ 1.5-2.5

#### å‚æ•°ç»„16: åœ°æ”¯åˆå±€ (Branch Combo)

**é…ç½®è·¯å¾„**: `config['interactions']['comboPhysics']`

**è®¡ç®—é€»è¾‘**:
```python
# ä¸‰åˆ
if is_trine(node_i.char, node_j.char):
    weight += trine_bonus
    
# ä¸‰ä¼š
if is_directional(node_i.char, node_j.char):
    weight += directional_bonus
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `trineBonus` | 2.5 | 0.5-5.0 | ä¸‰åˆåŠ æˆ |
| `halfBonus` | 1.5 | 0.5-3.0 | åŠåˆåŠ æˆ |
| `directionalBonus` | 3.0 | 0.5-6.0 | ä¸‰ä¼šåŠ æˆ |
| `resolutionCost` | 0.1 | 0.0-1.0 | è§£å†²æ¶ˆè€— |

**è°ƒä¼˜å»ºè®®**:
- ä¸‰åˆ/ä¸‰ä¼šæ˜¯é‡è¦æœºåˆ¶ï¼Œå»ºè®®ä¿æŒå½“å‰å€¼

#### å‚æ•°ç»„17: å†²çš„æŠ˜æŸ (Clash Damping)

**é…ç½®è·¯å¾„**: `config['interactions']['branchEvents']['clashDamping']`

**è®¡ç®—é€»è¾‘**:
```python
if BRANCH_CLASHES.get(node_i.char) == node_j.char:
    weight *= clash_damping  # å†²çš„æŠ˜æŸ
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `clashDamping` | 0.5 | 0.1-1.0 | å†²çš„æŠ˜æŸç³»æ•° |

**è°ƒä¼˜å»ºè®®**:
- å†²çš„æŠ˜æŸå»ºè®®èŒƒå›´ 0.3-0.7

#### å‚æ•°ç»„18: è·ç¦»è¡°å‡ (Spatial Decay)

**é…ç½®è·¯å¾„**: `config['flow']['spatialDecay']`

**è®¡ç®—é€»è¾‘**:
```python
distance = abs(node_i.pillar_idx - node_j.pillar_idx)
if distance == 1:
    weight *= gap1  # éš”ä¸€æŸ±è¡°å‡
elif distance >= 2:
    weight *= gap2  # éš”ä¸¤æŸ±è¡°å‡
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `gap1` | 0.6 | 0.1-1.0 | éš”ä¸€æŸ±è¡°å‡ |
| `gap2` | 0.3 | 0.1-1.0 | éš”ä¸¤æŸ±è¡°å‡ |

**è°ƒä¼˜å»ºè®®**:
- è·ç¦»è¡°å‡æ˜¯ç©ºé—´æ•ˆåº”ï¼Œå»ºè®®ä¿æŒå½“å‰å€¼

#### å‚æ•°ç»„19: GATåŠ¨æ€æ³¨æ„åŠ› (Graph Attention Network)

**é…ç½®è·¯å¾„**: `config['gat']`

**ä½œç”¨**: ä½¿ç”¨å›¾æ³¨æ„åŠ›ç½‘ç»œåŠ¨æ€è°ƒæ•´é‚»æ¥çŸ©é˜µ

**è®¡ç®—é€»è¾‘**:
```python
if use_gat:
    A_dynamic = gat_builder.build_dynamic_adjacency_matrix(...)
    A = (1 - gat_mix_ratio) Ã— A + gat_mix_ratio Ã— A_dynamic
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `use_gat` | True | - | æ˜¯å¦å¯ç”¨GAT |
| `attention_dropout` | 0.29 | 0.0-0.5 | GATæ³¨æ„åŠ›ç¨€ç–åº¦ |
| `gat_mix_ratio` | 0.5 | 0.0-1.0 | GATæ··åˆæ¯”ä¾‹ |

**è°ƒä¼˜å»ºè®®**:
- `attention_dropout` æ˜¯æ ¸å¿ƒå‚æ•°ï¼Œå»ºè®®èŒƒå›´ 0.2-0.4
- `gat_mix_ratio` å»ºè®®èŒƒå›´ 0.3-0.7

---

## Phase 3: èƒ½é‡ä¼ æ’­è¿­ä»£

**ä½ç½®**: `GraphNetworkEngine.propagate()`

### 3.1 è¿­ä»£å…¬å¼

```python
H^(t+1) = damping Ã— A Ã— H^(t) + (1 - damping) Ã— H^(0)
```

#### å‚æ•°ç»„20: é˜»å°¼ç³»æ•° (Damping)

**ä½ç½®**: `propagate()` å‚æ•°

**ä½œç”¨**: é˜²æ­¢èƒ½é‡å‘æ•£ï¼Œä¿æŒç³»ç»Ÿç¨³å®š

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `damping` | 0.9 | 0.5-1.0 | é˜»å°¼ç³»æ•° |

**è°ƒä¼˜å»ºè®®**:
- é˜»å°¼ç³»æ•°å»ºè®®èŒƒå›´ 0.8-0.95
- è¿‡ä½çš„é˜»å°¼ä¼šå¯¼è‡´èƒ½é‡å‘æ•£

#### å‚æ•°ç»„21: æœ€å¤§è¿­ä»£æ¬¡æ•° (Max Iterations)

**ä½ç½®**: `propagate()` å‚æ•°

**ä½œç”¨**: æ§åˆ¶è¿­ä»£æ¬¡æ•°

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `max_iterations` | 10 | 5-20 | æœ€å¤§è¿­ä»£æ¬¡æ•° |

**è°ƒä¼˜å»ºè®®**:
- è¿­ä»£æ¬¡æ•°å»ºè®®èŒƒå›´ 8-12

### 3.2 ä¼ æ’­è¿‡ç¨‹ä¸­çš„ç‰¹æ®Šæœºåˆ¶

#### å‚æ•°ç»„22: æœˆä»¤ç»å¯¹å…ç–« (Commander Absolute Immunity)

**ä½ç½®**: `propagate()` ç¬¬1211-1278è¡Œ

**ä½œç”¨**: ç¡®ä¿æœˆä»¤èŠ‚ç‚¹å¯¹æ—¥ä¸»çš„ç”ŸåŠ©æƒé‡é”å®šä¸º1.0ï¼ˆæ— æŸä¼ è¾“ï¼‰

**è®¡ç®—é€»è¾‘**:
```python
if month_node.element == resource_element or month_node.element == dm_element:
    self.adjacency_matrix[dm_idx][month_idx] = max(current_weight, 1.0)
    if H[month_idx] < self.H0[month_idx] Ã— 0.8:
        H[month_idx] = self.H0[month_idx] Ã— 0.8
```

**è°ƒä¼˜å»ºè®®**:
- è¿™æ˜¯ç¡¬ç¼–ç çš„æœºåˆ¶ï¼Œå»ºè®®ä¿æŒ

#### å‚æ•°ç»„23: é˜³åˆƒé‡‘åˆšç›¾ (Yangren Protection)

**ä½ç½®**: `propagate()` ç¬¬1280-1301è¡Œ

**ä½œç”¨**: ä¿æŠ¤é˜³åˆƒèŠ‚ç‚¹ï¼Œç¡®ä¿èƒ½é‡ä¸è¢«è¿‡åº¦å‰Šå¼±

**è®¡ç®—é€»è¾‘**:
```python
if node.is_yangren:
    if is_clashed:
        H[i] *= 1.5  # é˜³åˆƒé€¢å†²ï¼Œå…¶æ€§æ›´çƒˆ
    else:
        if H[i] < self.H0[i] Ã— 0.5:
            H[i] = self.H0[i] Ã— 0.8  # ä¿æŠ¤é˜³åˆƒèŠ‚ç‚¹
```

**è°ƒä¼˜å»ºè®®**:
- è¿™æ˜¯ç¡¬ç¼–ç çš„æœºåˆ¶ï¼Œå»ºè®®ä¿æŒ

#### å‚æ•°ç»„24: é£Ÿä¼¤æ³„è€—æƒ©ç½š (Output Drain Penalty)

**é…ç½®è·¯å¾„**: `config['flow']['outputDrainPenalty']`

**ä½ç½®**: `propagate()` ç¬¬1320-1340è¡Œ

**ä½œç”¨**: æ—¥ä¸»ç”Ÿé£Ÿä¼¤æ—¶çš„é¢å¤–èƒ½é‡æŸå¤±

**è®¡ç®—é€»è¾‘**:
```python
if dmç”Ÿoutput:
    extra_drain = total_output_flow Ã— (output_drain_penalty - 1.0)
    H[dm_idx] = max(0.0, H[dm_idx] - extra_drain)
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `outputDrainPenalty` | 2.0 | 1.0-4.5 | é£Ÿä¼¤æ³„è€—æƒ©ç½š |

**è°ƒä¼˜å»ºè®®**:
- é£Ÿä¼¤æ³„è€—æ˜¯èº«å¼±çš„é‡è¦æœºåˆ¶ï¼Œå»ºè®®èŒƒå›´ 1.5-2.5

#### å‚æ•°ç»„25: å…¨å±€ç†µå¢ (Global Entropy)

**é…ç½®è·¯å¾„**: `config['flow']['globalEntropy']`

**ä½ç½®**: `propagate()` ç¬¬1342è¡Œ

**ä½œç”¨**: ç³»ç»Ÿèƒ½é‡æŸè€—

**è®¡ç®—é€»è¾‘**:
```python
H *= (1.0 - global_entropy)
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `globalEntropy` | 0.05 | 0.0-0.3 | å…¨å±€ç†µå¢ |

**è°ƒä¼˜å»ºè®®**:
- å…¨å±€ç†µå¢å»ºè®®èŒƒå›´ 0.03-0.08

#### å‚æ•°ç»„26: æµå¹´èƒ½é‡è¡°å‡

**ä½ç½®**: `propagate()` ç¬¬1314-1318è¡Œ

**ä½œç”¨**: æµå¹´èŠ‚ç‚¹èƒ½é‡å¿«é€Ÿè¡°å‡

**è®¡ç®—é€»è¾‘**:
```python
if node.is_liunian:
    H[i] *= 0.9  # æ¯æ¬¡è¿­ä»£è¡°å‡10%
```

**è°ƒä¼˜å»ºè®®**:
- è¿™æ˜¯ç¡¬ç¼–ç çš„0.9å€è¡°å‡ï¼Œå¯ä»¥è€ƒè™‘å‚æ•°åŒ–

---

## Phase 4: æ—ºè¡°åˆ†æ•°è®¡ç®—

**ä½ç½®**: `GraphNetworkEngine.calculate_strength_score()`

### 4.1 èƒ½é‡ç»Ÿè®¡

```python
self_team_energy = æ—¥ä¸»èƒ½é‡ + æ¯”åŠ«èƒ½é‡ + å°æ˜Ÿèƒ½é‡
total_energy = æ‰€æœ‰èŠ‚ç‚¹èƒ½é‡ä¹‹å’Œ
strength_score = (self_team_energy / total_energy) Ã— 100.0
```

### 4.2 ç‰¹æ®Šæœºåˆ¶

#### å‚æ•°ç»„27: è™šæµ®æ¯”åŠ«æƒ©ç½š (Floating Peer Penalty)

**ä½ç½®**: `calculate_strength_score()` ç¬¬1544-1558è¡Œ

**ä½œç”¨**: æ— æ ¹æ¯”åŠ«çš„èƒ½é‡è´¡çŒ®é™ä½

**è®¡ç®—é€»è¾‘**:
```python
if is_peer_stem and total_root_energy < 0.5:
    node_energy *= 0.2  # æ— æ ¹æ¯”åŠ«æƒ©ç½šï¼šèƒ½é‡è´¡çŒ®é™ä½åˆ°20%
```

**è°ƒä¼˜å»ºè®®**:
- è¿™æ˜¯ç¡¬ç¼–ç çš„0.2å€æƒ©ç½šï¼Œå¯ä»¥è€ƒè™‘å‚æ•°åŒ–

#### å‚æ•°ç»„28: é˜³åˆƒèƒ½é‡åŠ æˆ

**ä½ç½®**: `calculate_strength_score()` ç¬¬1550-1552è¡Œ

**ä½œç”¨**: é˜³åˆƒèŠ‚ç‚¹çš„èƒ½é‡è´¡çŒ®å¢åŠ 

**è®¡ç®—é€»è¾‘**:
```python
if node.is_yangren:
    node_energy *= 1.5  # é˜³åˆƒèƒ½é‡åŠ æˆï¼šå¢åŠ 50%
```

**è°ƒä¼˜å»ºè®®**:
- è¿™æ˜¯ç¡¬ç¼–ç çš„1.5å€åŠ æˆï¼Œå¯ä»¥è€ƒè™‘å‚æ•°åŒ–

#### å‚æ•°ç»„29: è‡ªåˆ‘æ ¹æ°”æƒ©ç½š

**ä½ç½®**: `calculate_strength_score()` ç¬¬1534-1536è¡Œ

**ä½œç”¨**: è‡ªåˆ‘åœ°æ”¯çš„æ ¹æ°”è´¡çŒ®å‰Šå‡

**è®¡ç®—é€»è¾‘**:
```python
if branch_char in self_punishment_branches:
    root_energy *= 0.2  # è‡ªåˆ‘æ ¹æ°”æƒ©ç½šï¼šåªä¿ç•™20%è´¡çŒ®
```

**è°ƒä¼˜å»ºè®®**:
- è¿™æ˜¯ç¡¬ç¼–ç çš„0.2å€æƒ©ç½šï¼Œå¯ä»¥è€ƒè™‘å‚æ•°åŒ–

#### å‚æ•°ç»„30: æµå‘åŠ æˆ (Flow Bonus)

**ä½ç½®**: `calculate_strength_score()` ç¬¬1600-1604è¡Œ

**ä½œç”¨**: èƒ½é‡å‘æ—¥ä¸»æ±‡èšæ—¶çš„é¢å¤–åˆ†æ•°

**è®¡ç®—é€»è¾‘**:
```python
if flow_bonus > 0:
    strength_score += flow_bonus Ã— 10.0  # æœ€å¤šåŠ 10åˆ†
```

**è°ƒä¼˜å»ºè®®**:
- è¿™æ˜¯ç¡¬ç¼–ç çš„10.0å€åŠ æˆï¼Œå¯ä»¥è€ƒè™‘å‚æ•°åŒ–

---

## Phase 5: æœ€ç»ˆåˆ¤å®š

**ä½ç½®**: `GraphNetworkEngine.calculate_strength_score()` ç¬¬1648-1800è¡Œ

### 5.1 åˆ¤å®šæµç¨‹

```
1. ä»æ ¼ç†”æ–­ (Follower Circuit Breaker)
   â†“
2. SVMæ¨¡å‹é¢„æµ‹ (V11.0)
   â†“
3. ä¸“æ—ºæ ¼ç†”æ–­ (Special_Strong Circuit Breaker)
   â†“
4. Sigmoidæ¦‚ç‡è®¡ç®—
   â†“
5. æœ€ç»ˆè£å†³å±‚ (Final Judgment Layer)
```

### 5.2 åˆ¤å®šå‚æ•°

#### å‚æ•°ç»„31: ä»æ ¼é˜ˆå€¼ (Follower Threshold)

**é…ç½®è·¯å¾„**: `config['strength']['follower_threshold']`

**ä½œç”¨**: åˆ¤å®šä»æ ¼çš„æ¦‚ç‡é˜ˆå€¼

**è®¡ç®—é€»è¾‘**:
```python
if strength_probability < follower_threshold and not has_root:
    final_label = 'Follower'
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `follower_threshold` | 0.15 | 0.05-0.3 | ä»æ ¼åˆ¤å®šé˜ˆå€¼ |

**è°ƒä¼˜å»ºè®®**:
- ä»æ ¼é˜ˆå€¼å»ºè®®èŒƒå›´ 0.1-0.2

#### å‚æ•°ç»„32: Sigmoidå‚æ•°

**é…ç½®è·¯å¾„**: `config['strength']`

**è®¡ç®—é€»è¾‘**:
```python
k = 10.0 / phase_transition_width
energy_diff = strength_normalized - energy_threshold_center
strength_probability = 1.0 / (1.0 + exp(-k Ã— energy_diff))
```

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `energy_threshold_center` | 2.89 | 1.0-5.0 | **ç›¸å˜ä¸´ç•Œç‚¹** |
| `phase_transition_width` | 10.0 | 1.0-20.0 | **æ¦‚ç‡æ³¢å¸¦å®½** |

**è°ƒä¼˜å»ºè®®**:
- `energy_threshold_center` æ˜¯æ ¸å¿ƒå‚æ•°ï¼Œå»ºè®®èŒƒå›´ 2.5-3.5
- `phase_transition_width` å»ºè®®èŒƒå›´ 8.0-12.0

#### å‚æ•°ç»„33: åˆ¤å®šé˜ˆå€¼ (Judgment Thresholds) [V12.1]

**é…ç½®è·¯å¾„**: `config['strength']`

**ä½œç”¨**: æœ€ç»ˆåˆ¤å®šçš„åˆ†æ•°å’Œæ¦‚ç‡é˜ˆå€¼

**å‚æ•°**:
| å‚æ•° | é»˜è®¤å€¼ | èŒƒå›´ | ä½œç”¨ |
|------|--------|------|------|
| `weak_score_threshold` | 40.0 | 20.0-60.0 | å¼±åˆ¤å®šåˆ†æ•°é˜ˆå€¼ |
| `strong_score_threshold` | 50.0 | 30.0-70.0 | å¼ºåˆ¤å®šåˆ†æ•°é˜ˆå€¼ |
| `strong_probability_threshold` | 0.60 | 0.40-0.80 | å¼ºåˆ¤å®šæ¦‚ç‡é˜ˆå€¼ |

**åˆ¤å®šé€»è¾‘**:
```python
# 1. ä¸“æ—ºæ ¼ç†”æ–­
if strength_score >= 72.0 or (self_team_ratio > 0.60 and strength_score > 65.0):
    final_label = 'Special_Strong'

# 2. ä»æ ¼ç†”æ–­
elif strength_score <= 15.0 and not has_root:
    final_label = 'Follower'

# 3. æå¼±/èº«å¼±åŒºé—´æ‰©å¤§
elif strength_score <= weak_score_threshold or normalized_score < 0.50:
    final_label = 'Weak'

# 4. æ™®é€šå¼ºå¼±
else:
    if strength_probability >= strong_probability_threshold and strength_score > strong_score_threshold:
        final_label = 'Strong'
    elif strength_score <= strong_score_threshold or strength_probability <= (1.0 - strong_probability_threshold):
        final_label = 'Weak'
    else:
        final_label = 'Balanced'
```

**è°ƒä¼˜å»ºè®®**:
- `weak_score_threshold`: å»ºè®®èŒƒå›´ 35.0-45.0
- `strong_score_threshold`: å»ºè®®èŒƒå›´ 45.0-55.0
- `strong_probability_threshold`: å»ºè®®èŒƒå›´ 0.55-0.65

---

## å‚æ•°åˆ†ç»„ä¸è°ƒä¼˜å»ºè®®

### ç¬¬ä¸€ç»„ï¼šåŸºç¡€ç‰©ç†å‚æ•°ï¼ˆPhase 1ï¼‰

**ä¼˜å…ˆçº§**: â­â­â­â­â­

1. **æœˆä»¤æƒé‡** (`pillarWeights.month`): 1.0-1.5
2. **å­£èŠ‚æƒé‡** (`seasonWeights`): å¾—ä»¤1.5, å¾—ç”Ÿ1.2, è¢«å…‹0.5
3. **é€šæ ¹ç³»æ•°** (`rootingWeight`): 1.0-1.5
4. **é€å¹²åŠ æˆ** (`exposedBoost`): 1.3-2.0

**è°ƒä¼˜é¡ºåº**: å…ˆè°ƒæœˆä»¤æƒé‡ï¼Œå†è°ƒé€šæ ¹ç³»æ•°ï¼Œæœ€åè°ƒé€å¹²åŠ æˆ

### ç¬¬äºŒç»„ï¼šäº¤äº’å…³ç³»å‚æ•°ï¼ˆPhase 2ï¼‰

**ä¼˜å…ˆçº§**: â­â­â­â­

1. **å…‹åˆ¶å½±å“** (`controlImpact`): 3.0-7.0
2. **å¤©å¹²äº”åˆ** (`stemFiveCombination`): é˜ˆå€¼0.6-0.8, å¢ç›Š1.5-2.5
3. **å†²çš„æŠ˜æŸ** (`clashDamping`): 0.3-0.7
4. **GATæ³¨æ„åŠ›** (`attention_dropout`): 0.2-0.4

**è°ƒä¼˜é¡ºåº**: å…ˆè°ƒå…‹åˆ¶å½±å“ï¼Œå†è°ƒå¤©å¹²äº”åˆï¼Œæœ€åè°ƒGATæ³¨æ„åŠ›

### ç¬¬ä¸‰ç»„ï¼šä¼ æ’­æœºåˆ¶å‚æ•°ï¼ˆPhase 3ï¼‰

**ä¼˜å…ˆçº§**: â­â­â­

1. **é£Ÿä¼¤æ³„è€—** (`outputDrainPenalty`): 1.5-2.5
2. **å…¨å±€ç†µå¢** (`globalEntropy`): 0.03-0.08
3. **é˜»å°¼ç³»æ•°** (`damping`): 0.8-0.95

**è°ƒä¼˜é¡ºåº**: å…ˆè°ƒé£Ÿä¼¤æ³„è€—ï¼Œå†è°ƒå…¨å±€ç†µå¢

### ç¬¬å››ç»„ï¼šåˆ¤å®šé˜ˆå€¼å‚æ•°ï¼ˆPhase 5ï¼‰

**ä¼˜å…ˆçº§**: â­â­â­â­â­

1. **ç›¸å˜ä¸´ç•Œç‚¹** (`energy_threshold_center`): 2.5-3.5
2. **æ¦‚ç‡æ³¢å¸¦å®½** (`phase_transition_width`): 8.0-12.0
3. **åˆ¤å®šé˜ˆå€¼** (`weak_score_threshold`, `strong_score_threshold`, `strong_probability_threshold`): æ ¹æ®æ¡ˆä¾‹è°ƒæ•´

**è°ƒä¼˜é¡ºåº**: å…ˆè°ƒç›¸å˜ä¸´ç•Œç‚¹ï¼Œå†è°ƒæ¦‚ç‡æ³¢å¸¦å®½ï¼Œæœ€åè°ƒåˆ¤å®šé˜ˆå€¼

---

## è°ƒä¼˜å·¥ä½œæµå»ºè®®

### æ­¥éª¤1: åŸºç¡€å‚æ•°è°ƒä¼˜ï¼ˆPhase 1ï¼‰

1. å›ºå®šå…¶ä»–å‚æ•°ï¼Œåªè°ƒæœˆä»¤æƒé‡
2. æµ‹è¯•æ‰€æœ‰æ¡ˆä¾‹çš„å‡†ç¡®ç‡
3. æ‰¾åˆ°æœ€ä¼˜æœˆä»¤æƒé‡
4. ä¾æ¬¡è°ƒä¼˜é€šæ ¹ç³»æ•°ã€é€å¹²åŠ æˆç­‰

### æ­¥éª¤2: äº¤äº’å‚æ•°è°ƒä¼˜ï¼ˆPhase 2ï¼‰

1. å›ºå®šPhase 1å‚æ•°ï¼Œåªè°ƒå…‹åˆ¶å½±å“
2. æµ‹è¯•æ‰€æœ‰æ¡ˆä¾‹çš„å‡†ç¡®ç‡
3. æ‰¾åˆ°æœ€ä¼˜å…‹åˆ¶å½±å“
4. ä¾æ¬¡è°ƒä¼˜å¤©å¹²äº”åˆã€å†²çš„æŠ˜æŸç­‰

### æ­¥éª¤3: ä¼ æ’­å‚æ•°è°ƒä¼˜ï¼ˆPhase 3ï¼‰

1. å›ºå®šPhase 1-2å‚æ•°ï¼Œåªè°ƒé£Ÿä¼¤æ³„è€—
2. æµ‹è¯•æ‰€æœ‰æ¡ˆä¾‹çš„å‡†ç¡®ç‡
3. æ‰¾åˆ°æœ€ä¼˜é£Ÿä¼¤æ³„è€—
4. ä¾æ¬¡è°ƒä¼˜å…¨å±€ç†µå¢ã€é˜»å°¼ç³»æ•°ç­‰

### æ­¥éª¤4: åˆ¤å®šå‚æ•°è°ƒä¼˜ï¼ˆPhase 5ï¼‰

1. å›ºå®šPhase 1-3å‚æ•°ï¼Œåªè°ƒç›¸å˜ä¸´ç•Œç‚¹
2. æµ‹è¯•æ‰€æœ‰æ¡ˆä¾‹çš„å‡†ç¡®ç‡
3. æ‰¾åˆ°æœ€ä¼˜ç›¸å˜ä¸´ç•Œç‚¹
4. ä¾æ¬¡è°ƒä¼˜æ¦‚ç‡æ³¢å¸¦å®½ã€åˆ¤å®šé˜ˆå€¼ç­‰

### æ­¥éª¤5: ç»¼åˆè°ƒä¼˜

1. å¾®è°ƒæ‰€æœ‰å‚æ•°
2. ä½¿ç”¨å›å½’æµ‹è¯•éªŒè¯
3. è®°å½•æœ€ä¼˜å‚æ•°é…ç½®

---

## æ€»ç»“

### æ ¸å¿ƒå‚æ•°ï¼ˆå¿…é¡»è°ƒä¼˜ï¼‰

1. **æœˆä»¤æƒé‡** (`pillarWeights.month`): å½±å“åˆå§‹èƒ½é‡
2. **å…‹åˆ¶å½±å“** (`controlImpact`): å½±å“èƒ½é‡ä¼ æ’­
3. **ç›¸å˜ä¸´ç•Œç‚¹** (`energy_threshold_center`): å½±å“æœ€ç»ˆåˆ¤å®š
4. **åˆ¤å®šé˜ˆå€¼** (`weak_score_threshold`, `strong_score_threshold`): å½±å“æœ€ç»ˆåˆ¤å®š

### æ¬¡è¦å‚æ•°ï¼ˆå¯é€‰è°ƒä¼˜ï¼‰

1. é€šæ ¹ç³»æ•°ã€é€å¹²åŠ æˆ
2. å¤©å¹²äº”åˆã€å†²çš„æŠ˜æŸ
3. é£Ÿä¼¤æ³„è€—ã€å…¨å±€ç†µå¢
4. æ¦‚ç‡æ³¢å¸¦å®½

### ç¡¬ç¼–ç å‚æ•°ï¼ˆå»ºè®®å‚æ•°åŒ–ï¼‰

1. å­£èŠ‚ä¸»å¯¼é”å®š (1.3å€)
2. è‡ªåˆ‘æƒ©ç½š (0.5å€)
3. å¤§è¿æƒé‡ (1.2å€)
4. æµå¹´æƒé‡ (2.0å€)
5. è™šæµ®æ¯”åŠ«æƒ©ç½š (0.2å€)
6. é˜³åˆƒèƒ½é‡åŠ æˆ (1.5å€)
7. è‡ªåˆ‘æ ¹æ°”æƒ©ç½š (0.2å€)
8. æµå‘åŠ æˆ (10.0å€)
9. æµå¹´èƒ½é‡è¡°å‡ (0.9å€)

---

**æ–‡æ¡£ç‰ˆæœ¬**: V1.0  
**æœ€åæ›´æ–°**: 2025-01-XX  
**ç»´æŠ¤è€…**: Bazi Predict Team

