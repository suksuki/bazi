# V2.9 Logic Topology (Compassionate Physics)

**Version:** Quantum Engine V2.9 (Production Release)  
**Status:** Golden Master  
**Core Philosophy:** 刚柔并济 (Rigid yet Compassionate)

## I. Core Definition
*   **Rigid (刚):** Strict adherence to generative/destructive cycles (Sheng/Ke). Zero tolerance for "Mutiny" (Scarred Officer beholding Officer) or "Fake Follow Collapse".
*   **Compassionate (柔):** Introduction of "Suffering Cap" (Max Penalty) and "Earth Amnesty" (Mountain Alliance), reflecting the resilience of real life.

## II. Logic Flow (Decision Topology)

### 1. Input Layer
*   **Bazi Charting** (Ba Zi Pai Pan)
*   **Potential Energy Calculation** ($\mathbf{E}_{\text{Potential}}$)

### 2. Special Pattern Gate (The Extremes)
*   **Superconductivity Check:**
    *   IF $\mathbf{E}_{\text{Self}} < -6.0$: Trigger **Follow Pattern (从格)** Logic.
    *   Inverts standard logic (Weakness becomes Strength).
*   **Collapse Check:**
    *   IF Pattern is "Fake Follow" (Critical weakness but with roots): Trigger **Collapse (K_Broken)**.
    *   Result: Severe structural penalty.

### 3. Conflict & Mediation Layer (The Defense)
*   **Robbery (比劫夺财):**
    *   IF Self > 5.0 AND Wealth > 1.0: Trigger Robbery.
    *   **Mediation Check:** IF Output > 4.0 (Food God) OR Officer > 3.0 (Guardian): **Exempt/Reduce Penalty**.
*   **Mountain Alliance (Earth Amnesty):**
    *   IF Day Master is **Earth** AND Self > 6.0 (Strong Earth):
    *   Trigger **Mountain Alliance (积土成山)**.
    *   Result: Robbery Penalty Waived (Earth thrives on accumulation, partnership is beneficial).

### 4. Structural Harm Matrix (The Hidden Threats)
*   **Scanning:** Check Earthly Branches for Clash (冲), Harm (害), War (暗战).
*   **Earth Amnesty (土之赦免):**
    *   IF Clash/Harm is between **Earth Branches** (Chen, Xu, Chou, Wei): **Ignored** (Opening the Treasury).
*   **Harm Penalty:**
    *   Clash Weight: 5.0
    *   Harm Weight: 2.0
*   **Suffering Cap (The Compassion):**
    *   **Max_Structural_Penalty = 6.0**
    *   Any penalty exceeding 6.0 is capped. This prevents "Doom Predictions" for complex but livable charts.

### 5. Output Layer
*   Generate Final $\mathbf{E}_{\text{pred}}$ Vector (Career, Wealth, Relationship).
*   Match Narrative Verdicts (e.g., "Mismatched Marriage but Durable").

## III. Key Parameters (Snapshot)

See `data/golden_parameters.json` for the executable configuration.

| Parameter | Value | Meaning |
| :--- | :--- | :--- |
| **K_Clash_Robbery** | **1.5** | High tension, but mitigated by logic. |
| **K_Mutiny** | **1.8** | Zero tolerance for chaos. |
| **K_Broken** | **1.5** | Punishment for structural collapse. |
| **Max_Struct_Penalty** | **6.0** | The limit of human suffering (in model terms). |
| **Harm_Weight** | **2.0** | Friction, not destruction. |
| **Clash_Weight** | **5.0** | Direct impact. |

---
*Archived by Antigravity on 2025-12-13*
