# 八字案例数据格式规范 (Bazi Case Format Specification)

## 用途
本规范用于定义批量验证和调优系统所需的八字案例数据格式。

## JSON 格式

### 单个案例格式

```json
{
  "id": "CASE_UNIQUE_ID",
  "bazi": ["年柱", "月柱", "日柱", "时柱"],
  "day_master": "日主天干",
  "gender": "性别",
  "true_label": "真实标签",
  "description": "案例描述（可选）",
  "notes": "备注信息（可选）"
}
```

### 字段说明

#### 必需字段

1. **id** (string)
   - 案例唯一标识符
   - 格式建议：`CASE_XXX_XXX` 或 `VAL_XXX`
   - 示例：`"CASE_STRONG_001"`, `"VAL_005"`, `"REAL_001"`

2. **bazi** (array of strings)
   - 八字四柱，按顺序为：年柱、月柱、日柱、时柱
   - 每个柱是天干+地支的组合
   - 示例：`["辛未", "辛丑", "庚戌", "丁亥"]`

3. **day_master** (string)
   - 日主天干（日柱的天干部分）
   - 必须是：甲、乙、丙、丁、戊、己、庚、辛、壬、癸 之一
   - 示例：`"庚"`（对应八字中的"庚戌"的"庚"）

4. **gender** (string)
   - 性别
   - 值：`"男"` 或 `"女"`

5. **true_label** (string)
   - 真实的身强身弱标签
   - 值必须是：`"Strong"`、`"Balanced"`、`"Weak"` 之一
   - **Strong**: 身旺（日主阵营能量占比 >= 60%）
   - **Balanced**: 中和（日主阵营能量占比 40-60%）
   - **Weak**: 身弱（日主阵营能量占比 < 40%）

#### 可选字段

6. **description** (string, 可选)
   - 案例的简要描述
   - 建议包含：格局类型、主要特征、历史人物/典型命格等
   - 示例：`"塑胶大亨：润局解救（亥水润土生金）"`

7. **notes** (string, 可选)
   - 额外的备注信息
   - 可包含：分析要点、特殊格局、调优提示等

## 完整示例

### 示例 1: 身旺案例（专旺格）

```json
{
  "id": "CASE_STRONG_001",
  "bazi": ["甲子", "甲子", "甲子", "甲子"],
  "day_master": "甲",
  "gender": "男",
  "true_label": "Strong",
  "description": "专旺格案例：四甲子，木旺至极",
  "notes": "专旺格，日主甲木得年、月、时三柱同柱，能量极高"
}
```

### 示例 2: 身弱案例（杀重身轻）

```json
{
  "id": "CASE_WEAK_001",
  "bazi": ["庚申", "庚申", "甲寅", "庚申"],
  "day_master": "甲",
  "gender": "男",
  "true_label": "Weak",
  "description": "杀重身轻：三庚克甲，甲木极弱",
  "notes": "三庚围克日主甲木，虽有日支寅木通根，但仍为身弱"
}
```

### 示例 3: 中和案例（身杀两停）

```json
{
  "id": "CASE_BALANCED_001",
  "bazi": ["甲子", "丙寅", "戊辰", "庚午"],
  "day_master": "甲",
  "gender": "男",
  "true_label": "Balanced",
  "description": "身杀两停：甲木得生又有官杀，能量平衡",
  "notes": "年柱甲子生身，月柱丙寅同柱，但时柱庚午官杀透出，总体平衡"
}
```

### 示例 4: 润局案例（特殊格局）

```json
{
  "id": "VAL_005",
  "bazi": ["辛未", "辛丑", "庚戌", "丁亥"],
  "day_master": "庚",
  "gender": "男",
  "true_label": "Strong",
  "description": "塑胶大亨：润局解救（亥水润土生金）",
  "notes": "看似燥土不生金，但时支亥水润局，使未戌湿土能够生金，日主转旺"
}
```

### 示例 5: 财多身弱案例

```json
{
  "id": "CASE_WEAK_002",
  "bazi": ["戊子", "癸亥", "戊戌", "癸亥"],
  "day_master": "戊",
  "gender": "男",
  "true_label": "Weak",
  "description": "财多身弱：双癸双亥，土被水耗",
  "notes": "四柱中三柱为水，财星过旺，日主戊土虽有戌土通根，但被财星耗泄过重"
}
```

## 数组格式（完整文件）

所有案例应放在一个 JSON 数组中：

```json
[
  {
    "id": "CASE_STRONG_001",
    "bazi": ["甲子", "甲子", "甲子", "甲子"],
    "day_master": "甲",
    "gender": "男",
    "true_label": "Strong",
    "description": "专旺格案例"
  },
  {
    "id": "CASE_WEAK_001",
    "bazi": ["庚申", "庚申", "甲寅", "庚申"],
    "day_master": "甲",
    "gender": "男",
    "true_label": "Weak",
    "description": "杀重身轻案例"
  }
]
```

## 收集建议

### 案例类型分布建议

- **Strong (身旺)**: 30-40%
  - 专旺格、从旺格
  - 印旺生身、比劫帮身
  - 得令得地得势

- **Weak (身弱)**: 30-40%
  - 杀重身轻、财多身弱
  - 官杀混杂、食伤泄身
  - 失令失地

- **Balanced (中和)**: 20-30%
  - 身杀两停、身财两停
  - 能量分布相对均衡

### 特殊格局建议

建议包含以下特殊格局案例：

1. **润局案例**（如 VAL_005）：水润土生金
2. **焦土案例**：夏土不生金
3. **冻水案例**：冬水不生木
4. **合化案例**：天干五合、地支三合
5. **冲开库案例**：冲开财库、官库
6. **从格案例**：从财、从杀、从儿

### 数据来源建议

1. **历史人物**：已知身强身弱特征的历史人物
2. **经典案例**：传统命理书籍中的典型格局
3. **论坛案例**：真实八字分析案例（需验证）
4. **测试案例**：专门设计的边界测试案例

## 验证检查清单

在提交案例数据前，请检查：

- [ ] 所有必需字段都存在
- [ ] `bazi` 数组长度为 4
- [ ] 每个柱都是天干+地支的有效组合
- [ ] `day_master` 与 `bazi[2]`（日柱）的天干部分一致
- [ ] `true_label` 是 "Strong"、"Balanced" 或 "Weak" 之一
- [ ] `gender` 是 "男" 或 "女"
- [ ] `id` 在所有案例中唯一
- [ ] JSON 格式正确，可以解析

## 示例生成提示（给 Gemini）

**提示词示例**：

```
请生成 20 个真实八字案例，包含以下要求：

1. 格式：JSON 数组，每个案例包含 id, bazi, day_master, gender, true_label, description
2. 分布：Strong 30%, Weak 30%, Balanced 40%
3. 包含特殊格局：至少 3 个润局案例、2 个财多身弱案例、2 个专旺格案例
4. 来源：可以是历史人物、经典格局、或真实分析案例
5. 确保八字格式正确（天干+地支，如"甲子"、"庚申"）

示例格式：
{
  "id": "REAL_001",
  "bazi": ["辛未", "辛丑", "庚戌", "丁亥"],
  "day_master": "庚",
  "gender": "男",
  "true_label": "Strong",
  "description": "塑胶大亨：润局解救（亥水润土生金）"
}
```

