# 🔮 量子命盘系统手册 (Quantum Chart System V2.4 Manual)

**版本**: V2.4 (Visual & Logic Enhanced)  
**最后更新**: 2025-12-13  
**状态**: Stable / Production

---

## 1. 系统概述 (System Overview)

**Quantum Chart V2.4** 是 Antigravity 系统的核心前端展示界面，基于 **V2.4 量子物理引擎** 构建。它不仅仅是一个命理排盘工具，更是一个可视化的量子能量监测站。

本版本实现了算法内核与视觉表现的完美统一，通过极其直观的视觉语言（颜色、动画、卡片）来展示深奥的物理计算结果。

### 核心哲学
*   **Physics First**: 所有展示数据均源自严格的物理计算（QuantumEngine + FluxEngine）。
*   **Vivid Visualization**: 拒绝枯燥的文字，用直观的色彩、图标和动态效果表达能量状态。
*   **Interpretive Depth**: 提供“数理-命理”分离的解释层，让用户一眼看懂能量走势。

---

## 2. 视觉交互规范 (Visual Specification)

### 2.1 能量色谱 (Energy Color Spectrum)
全系统统一采用 **三级能量色谱** 来表示强弱状态，确保直观性：

| 能量等级 | 颜色 | 视觉效果 | 物理含义 |
| :--- | :--- | :--- | :--- |
| **Dominant (极强)** | **🔴 霓虹红 (Neon Red)** | `#FF4500` + 强发光 | 能量过剩、爆发、主导、潜在危机 |
| **Active (健康)** | **🟢 霓虹绿 (Neon Green)** | `#00E676` + 柔光 | 能量适中、得令、有用、良性循环 |
| **Weak (潜伏)** | **⚪ 银灰色 (Silver)** | `#C0C0C0` + 无光 | 能量微弱、休囚、等待唤醒 |

### 2.2 量子图腾 (Quantum Tokens)
四柱干支不再是汉字，而是具备物理属性的粒子：
*   **动画**: 每个五行拥有独特的微动效（如 `pulse` 脉冲, `flicker` 闪烁, `wave` 波动）。
*   **渐变**: 使用高级 CSS 渐变模拟物质形态（如金的金属光泽、火的辐射渐变）。
*   **核心粒子**: 柱底展示“藏干”粒子，揭示地支内部结构。

### 2.3 十神能量卡 (Ten Gods Stats Cards)
V2.4 引入了全新的卡片式设计，让抽象的“十神”变得有血有肉：
*   **拟人化定义**: 为每个十神赋予角色（如“无畏的将军-七杀”、“优雅艺术家-食神”）。
*   **核心标签 (Tag)**: 右上角标注核心特质（如 [魄力], [才华], [秩序]）。
*   **动态背景**: 卡片背景类似“液位计”，根据能量值高低自动填充高度。

---

## 3. 核心功能模块 (Core Modules)

### 3.1 四柱能量矩阵 (Four Pillars Matrix)
*   **实时交互**: 自动计算并显示流年/大运与原局的刑冲克合关系。
*   **动态徽章**: 出现交互时，自动贴上 `💥冲`, `🔗合`, `⚡刑` 等徽章。
*   **旺衰判定**: 基于全局能量场自动输出最终的身强/身弱判定。

### 3.2 时空控制台 (Time Machine)
*   **大运 (Da Yun)**: 切换大运，物理参数（环境场）自动重置。
*   **流年 (Liu Nian)**: 调节年份，模拟高能粒子撞击系统的实时反应。
*   **未来模拟**: 动态时间轴模块可预测未来 12 年的能量起伏。

### 3.3 量子断语 (Quantum Verdicts)
基于物理计算结果的最终输出：
*   **三大维度**: 事业、财富、感情。
*   **物理叙事**: 生成一段基于物理过程的文字描述（如“食神制杀成功，压力转化为动力”）。

---

## 4. 物理参数配置 (Physics Configuration)

V2.4 的底层完全由 `data/golden_parameters.json` 驱动。任何预测结果的异常，都可以通过调节以下参数进行修正：

*   **$K_{Control}$ (制杀效率)**: 决定食神能否有效压制七杀。
*   **$K_{Mutiny}$ (叛变系数)**: 决定伤官见官的破坏力。
*   **$K_{Clash}$ (劫财系数)**: 决定比劫夺财的烈度。

---

## 5. 维护与扩展

*   **UI 代码**: `ui/pages/prediction_dashboard.py` (包含所有视觉逻辑)。
*   **核心引擎**: `core/quantum_engine.py` (物理计算内核)。
*   **文档维护**: 请务必保持本手册与代码库同步。

---

**Antigravity Design Team**  
*Create Beautiful & Powerful AI Software*
