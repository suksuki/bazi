# 八字快速输入 - 使用指南

## 🎯 功能升级

现在您可以通过**单一输入框**直接输入完整的8字八字，系统会自动解析并显示四柱！

---

## 📝 输入格式

### 支持格式

1. **无空格**: `乙未丙戌壬戌辛亥`
2. **带空格**: `乙未 丙戌 壬戌 辛亥`
3. **全角空格**: `乙未　丙戌　壬戌　辛亥`

系统会自动清理空格并验证格式。

---

## ✨ 使用步骤

### 1. 打开八字测试页面
- 左侧边栏 → 📂 档案管理 → **⚡ 八字测试**

### 2. 输入完整八字
在 **"完整八字"** 输入框中粘贴或输入8个字：

```
乙未丙戌壬戌辛亥
```

### 3. 实时识别
系统会**立即显示**识别结果：

```
┌──────┬──────┬──────┬──────┐
│ 乙未 │ 丙戌 │ 壬戌 │ 辛亥 │
│ 年柱 │ 月柱 │日柱⭐│ 时柱 │
└──────┴──────┴──────┴──────┘

日主 (Day Master): 壬 (水)
```

- **年月时柱**: 紫色渐变背景
- **日柱**: 粉红色渐变背景（突出显示）
- **日主提示**: 自动显示日干及其五行属性

### 4. 选择性别
- 单选: 男 / 女

### 5. 快速排盘
- 点击 **"🚀 快速排盘"** 按钮
- 系统自动计算近似日期并触发智能排盘

---

## 📖 示例八字库

界面内置了5个经典测试案例，点击 **"📋"** 按钮即可自动填充：

### V3.0 财库测试案例 (保证看到🏆)

| 八字 | 说明 | 测试流年 |
|-----|------|---------|
| `乙未丙戌壬戌辛亥` | 水日主+戌财库 | 2024辰年冲开 |
| `甲子丙寅甲丑丙寅` | 木日主+丑土库 | 2015未年冲开 |
| `庚申丁酉辛未戊子` | 金日主+未木库 | 2021丑年冲开 |
| `乙未戊寅壬午辛亥` | 乔布斯八字 | 2011截脚测试 |
| `甲辰丙子己亥丙寅` | 马云八字 | 财库多开 |

---

## 🔍 格式验证

系统会自动检查输入是否有效：

### ✅ 有效输入
```
乙未丙戌壬戌辛亥  → ✅ 识别成功
乙未 丙戌 壬戌 辛亥 → ✅ 识别成功
```

### ❌ 无效输入
```
乙未丙戌壬戌      → ⚠️ 长度错误：需要8个字符，当前6个
甲乙丙丁戊己庚辛    → ⚠️ 年柱地支错误: 乙
abcdefgh         → ⚠️ 年柱天干错误: a
```

系统会给出具体的错误提示，帮助您快速纠正。

---

## 🎨 视觉效果

### 正常状态
- **输入框**: 显示提示文字 `"例: 乙未丙戌壬戌辛亥 或 乙未 丙戌 壬戌 辛亥"`
- **四柱卡片**: 渐变色背景，日柱特殊高亮
- **按钮**: 启用状态，蓝色主按钮

### 错误状态
- **警告提示**: ⚠️ 橙色背景
- **错误信息**: 详细说明问题所在
- **按钮**: 禁用状态（灰色）

---

## 🏆 完整操作流程 (看到金杯)

### Step 1: 输入财库八字
```
乙未丙戌壬戌辛亥
```

### Step 2: 点击 "快速排盘"
```
✅ 八字已加载: 乙未 丙戌 壬戌 辛亥
📅 近似日期: 1955-10-15 22:00
```

### Step 3: 调整流年
主界面 → **"⏳ 时空控制台"** → 流年输入 `2024`

### Step 4: 查看效果
滚动到 **"🌊 动态流年模拟"** 图表：

```
🏛️ Antigravity V3.0: 命运全息图

        🏆 ← 金色奖杯
        |
   12───●─── 财富线
        |
────────┼──────── 
        |
   2024
   甲辰
```

图表下方显示：
```
🔓 墓库开启事件
┌─────────────┐
│  🏆         │
│ 2024 甲辰   │
│ 财库(Wealth)│
└─────────────┘
```

---

## ⚡ 技术细节

### 解析逻辑
```python
输入: "乙未丙戌壬戌辛亥"
↓
去除空格: "乙未丙戌壬戌辛亥"
↓
分割柱位:
  [0:2] → 年柱: 乙未
  [2:4] → 月柱: 丙戌
  [4:6] → 日柱: 壬戌
  [6:8] → 时柱: 辛亥
↓
验证字符:
  天干: 甲乙丙丁戊己庚辛壬癸
  地支: 子丑寅卯辰巳午未申酉戌亥
↓
✅ 识别成功
```

### 反向日期计算
- **年份**: 基于60甲子周期匹配 (1924-2043)
- **月份**: 根据月支推算 (寅2月...丑1月)
- **时辰**: 根据时支推算 (子0时...亥22时)
- **日期**: 默认使用月中(15日)

---

## 💡 优势对比

### 旧版 (4个独立输入框)
```
年柱: [甲子] ← 需要逐个输入
月柱: [乙丑]
日柱: [丙寅]
时柱: [丁卯]
```
**问题**: 输入繁琐，容易遗漏

### 新版 (单一输入框)
```
完整八字: [乙未丙戌壬戌辛亥] ← 一次性粘贴
        👆 实时识别，自动分柱
```
**优势**: 
- ✅ 支持复制粘贴
- ✅ 自动格式清理
- ✅ 实时验证反馈
- ✅ 美观的可视化

---

**现在就试试吧！复制一个八字，粘贴到输入框，立即看到效果！** 🚀✨
