# 🎯 快速开始：视频学习并发优化

## 立即体验新功能

### 1️⃣ 设置并发任务数

1. 启动应用：`streamlit run main.py`
2. 点击左侧边栏 **⚙️ 系统控制台**
3. 在 **📚 学习任务引擎** 区域：
   - 调整 **⚡ 最大并发任务数** (推荐 3-5)
   - 立即生效，无需重启！

### 2️⃣ 配置字幕优先级

在同一区域：
- ✅ 勾选 **💬 优先使用CC字幕** (推荐开启)
- 展开 **🌐 字幕语言优先级** 自定义语言顺序

### 3️⃣ 批量添加视频学习任务

1. 进入 **🧠 自我进化矩阵**
2. 选择 **🎥 影音研习**
3. 切换到 **🌍 全网搜学** 标签
4. 输入 YouTube 频道 URL，点击 **订阅并扫描**
5. 在视频列表中：
   - 点击 **🆕 新课优先** 排序
   - 点击 **💬 字幕优先** 查看有字幕的视频
   - 勾选想学习的视频
   - 点击 **📥 将选中视频加入队列**

### 4️⃣ 监控任务执行

1. 进入 **📋 任务中心**
2. 顶部查看当前配置：
   ```
   ⚡ 最大并发数: 3 个任务
   💬 字幕优先级: ✅ 已开启
   ```
3. 实时查看任务状态：
   - 🟢 运行中
   - 🔵 等待中
   - ✅ 已完成

### 5️⃣ 观察性能提升

有字幕的视频：
- ❌ 改进前：下载音频 → Whisper转录 (慢)
- ✅ 改进后：直接下载字幕 (快 10x+)

多任务处理：
- ❌ 改进前：1 个任务
- ✅ 改进后：3 个任务并行 (快 3x)

---

## 💡 使用技巧

### 如何找到有字幕的视频？
1. 扫描频道后，选择 **💬 字幕优先** 排序
2. 标题带 💬 图标的视频通常有字幕
3. 优先学习这些视频，速度更快

### 并发数该设置多少？
- **轻度使用**: 1-2 个（省资源）
- **推荐配置**: 3-5 个（平衡）
- **高性能**: 6-10 个（需要好硬件）

### 字幕语言如何配置？
默认顺序已优化为中文优先：
```
zh-Hans (简体中文)
zh-Hant (繁体中文)
zh-CN   (中国大陆)
zh-TW   (台湾)
zh      (通用中文)
en      (英文)
```

如需调整，在系统控制台展开 **字幕语言优先级** 编辑。

---

## 🎬 典型工作流程

```mermaid
graph LR
    A[订阅频道] --> B[扫描视频]
    B --> C[字幕优先排序]
    C --> D[批量选择]
    D --> E[加入队列]
    E --> F[3个并发执行]
    F --> G[自动学习完成]
```

1. **订阅** 命理教学频道
2. **扫描** 获取所有视频
3. **排序** 优先显示有字幕视频
4. **选择** 批量勾选想学的课程
5. **加入** 一键添加到队列
6. **执行** 系统自动并发处理
7. **完成** 知识自动入库

---

## 🚀 启动命令

```bash
# 进入项目目录
cd /home/jin/bazi_predict

# 启动应用
streamlit run main.py

# 应用会在浏览器自动打开
# 如果没有，手动访问: http://localhost:8501
```

---

## ❓ 常见问题

**Q: 修改配置需要重启吗？**  
A: 不需要！所有配置都是实时生效的。

**Q: 字幕下载失败会怎么样？**  
A: 自动回退到 Whisper 音频转录。

**Q: 可以暂停正在执行的任务吗？**  
A: 可以！在任务中心点击 ⏸️ 暂停。

**Q: 如何清理已完成的任务？**  
A: 任务中心底部点击 🗑️ 清理已完成任务。

---

更新时间: 2025-12-08
