# ğŸ©º A-03 ç¾Šåˆƒæ¶æ€ (YangRen JiaSha) æ·±åº¦ä»£ç å®¡è®¡æŠ¥å‘Š
**åŸºäº QGA FDS-V1.4 (The Matrix & Phase Transition) è§„èŒƒ**

**å®¡è®¡å¯¹è±¡**: 
- æ ¸å¿ƒå®šä¹‰: `core/subjects/holographic_pattern/registry.json` (A-03)
- é©±åŠ¨é€»è¾‘: `core/registry_loader.py`
- ç‰©ç†å†…æ ¸: `core/physics_engine.py`

**å®¡è®¡æ—¶é—´**: 2025-12-30
**å®¡è®¡äºº**: Core Engine (Antigravity Agent)
**çŠ¶æ€**: ğŸ”´ **CRITICAL FIX REQUIRED** (éœ€ç´§æ€¥ä¿®å¤)

---

## ä¸€ã€ æ€»ä½“åˆè§„æ€§ä»ªè¡¨ç›˜

| ç»´åº¦ (Dimension) | æƒé‡ | å½“å‰è¯„åˆ† | çŠ¶æ€ | å…³é”®é—®é¢˜ |
| :--- | :---: | :---: | :---: | :--- |
| **ç‰©ç†å®šä¹‰ (Physics Definition)** | 30% | 95/100 | âœ… ä¼˜ç§€ | JSON å®šä¹‰ç¬¦åˆ Schema V2.1ï¼Œå¼ é‡çŸ©é˜µæ»¡è¶³ä¸‰å¤§å…¬ç†ã€‚ |
| **èƒ½é‡è®¡ç®— (Energy Calculation)** | 30% | 40/100 | ğŸ”´ ä¸¥é‡è¿è§„ | å†…æ ¸å­˜åœ¨å¤§é‡ç¡¬ç¼–ç æ•°å€¼ï¼Œæœªæ¥å…¥ `seasonWeights` å’Œ `hiddenStemRatios`ã€‚ |
| **åŠ¨æ€æ¼”åŒ– (Dynamic Evolution)** | 20% | 60/100 | ğŸŸ¡ è­¦å‘Š | å®ç°äº†åŸºç¡€çš„æˆæ ¼/ç ´æ ¼æ£€æµ‹ï¼Œä½†æµå¹´æ³¨å…¥é€»è¾‘ç¡¬ç¼–ç ã€‚ |
| **å¾®è§‚ç²¾åº¦ (Micro-Precision)** | 20% | 20/100 | ğŸ”´ ä¸¥é‡è¿è§„ | ç¼ºå¤±å¢“åº“ (Vault) é€»è¾‘ï¼Œç¾Šåˆƒè®¡ç®—ä»…åŸºäºæ•°é‡è€Œéèƒ½é‡å¯†åº¦ã€‚ |

**ç»¼åˆå¾—åˆ†**: **58.5** (FDS-V1.4 æ ‡å‡†çº¿ä¸º 85 åˆ†)

---

## äºŒã€ æ·±åº¦ä»£ç çº§å·®å¼‚åˆ†æ

### 1. ç‰©ç†å®šä¹‰å±‚ (`registry.json`)
*   **åˆè§„ç‚¹**: 
    *   `transfer_matrix` çš„å®šä¹‰å®Œç¾å¥‘åˆ **å…¬ç† 2 (Pattern Override)**ã€‚ä¸ƒæ€ (Power) åœ¨ `O_row` (ç§©åºè½´) çš„æƒé‡ä¸º `0.9`ï¼ŒæˆåŠŸå®ç°äº†ä» "ç¾" åˆ° "æƒ" çš„ç‰©ç†æ”¹å†™ã€‚
    *   `feature_anchors` åŒ…å«äº† `standard` å’Œ `singularity` (X1, X2) çš„è´¨å¿ƒï¼Œç¬¦åˆ **Tier X** éš”ç¦»åŸåˆ™ã€‚
*   **æ”¹è¿›å»ºè®®**: `integrity_threshold` è®¾å®šä¸º `0.45`ï¼Œå»ºè®®æ ¹æ® Tier A å›æµ‹æ•°æ®å¾®è°ƒã€‚

### 2. ç‰©ç†å†…æ ¸å±‚ (`physics_engine.py`)
è¿™æ˜¯æœ¬æ¬¡å®¡è®¡å‘ç°é—®é¢˜çš„é‡ç¾åŒºã€‚

#### ğŸ”´ ç¼ºé™· A: èƒ½é‡è®¡ç®—ç¡¬ç¼–ç  (Hardcoded Energy)
åœ¨ `compute_energy_flux` å‡½æ•°ä¸­ï¼š
```python
# å½“å‰å®ç° (Bad)
weights = {
    'base': 1.0,
    'month_resonance': 1.42,  # <--- ç¡¬ç¼–ç !
    'rooting': 3.0,           # <--- ç¡¬ç¼–ç !
}
```
*   **è¿åè§„èŒƒ**: FDS-V1.4 è¦æ±‚æ‰€æœ‰ç‰©ç†å¸¸æ•°å¿…é¡»ä» `core.config_schema` è¯»å–ï¼Œä»¥æ”¯æŒå…¨å±€è¶…å‚æ•°è°ƒä¼˜ã€‚
*   **å½±å“**: æ— æ³•è°ƒæ•´ç³»ç»Ÿçµæ•åº¦ï¼Œå¯¼è‡´æ¨¡å‹åƒµåŒ–ã€‚

#### ğŸ”´ ç¼ºé™· B: è—å¹²ç²¾åº¦ä¸¢å¤± (Hidden Stem Loss)
```python
# å½“å‰å®ç° (Bad)
blade_count = branches.count(yang_ren_branch) # ä»…ç»Ÿè®¡åœ°æ”¯æ•°é‡
energy = weights['base'] * blade_count
```
*   **è¿åè§„èŒƒ**: æœªä½¿ç”¨ `hiddenStemRatios`ã€‚
*   **é”™è¯¯ç¤ºä¾‹**: "åˆ" (ä¸»æ°”ä¸ç«) å’Œ "æœª" (ä½™æ°”ä¸ç«) è¢«è§†ä¸ºç­‰åŒï¼Œå¯¼è‡´èƒ½é‡è®¡ç®—è¯¯å·®æå¤§ã€‚
*   **ä¿®æ­£è¦æ±‚**: å¿…é¡»è°ƒç”¨ `BaziParticleNexus.get_branch_weights()` è·å–ç²¾ç¡®çš„è—å¹²æ¯”ä¾‹ (å¦‚ ä¸»æ°” 0.6, ä¸­æ°” 0.3, ä½™æ°” 0.1)ã€‚

#### ğŸ”´ ç¼ºé™· C: ç¼ºå¤±å¢“åº“é€»è¾‘ (Missing Vault Logic)
*   **ç°çŠ¶**: å®Œå…¨æ²¡æœ‰æ£€æµ‹ "åº“åˆƒ" (å¦‚ç”²æ—¥è§æœª) çš„å¼€é—­çŠ¶æ€ã€‚
*   **è¿åè§„èŒƒ**: å¾®è§‚ä¿®æ­£è¦æ±‚æ£€æµ‹ `Vault Open/Close`ã€‚
*   **å½±å“**: æ— æ³•åŒºåˆ† "åº“ä¸­ç¾Šåˆƒ" (å¾…æ¿€å‘) å’Œ "é€å¹²ç¾Šåˆƒ" (å·²æ¿€å‘) çš„ç‰©ç†çŠ¶æ€ã€‚

### 3. é©±åŠ¨é€»è¾‘å±‚ (`registry_loader.py`)

#### ğŸŸ¡ ç¼ºé™· D: åŠ¨æ€æ³¨å…¥é€»è¾‘æ±¡æŸ“ (Injection Pollution)
åœ¨ `_calculate_with_transfer_matrix` ä¸­ï¼š
```python
# å½“å‰å®ç° (Bad)
if year_ten_god in ['ä¸ƒæ€', 'æ­£å®˜']:
    frequency_vector['power'] += 0.5  # <--- é­”æœ¯æ•°å­—!
```
*   **è¿åè§„èŒƒ**: ç¦æ­¢åœ¨é€»è¾‘ä»£ç ä¸­åŒ…å«å…·ä½“çš„ç‰©ç†æ•°å€¼ã€‚æ³¨å…¥ç³»æ•°åº”å½“å±äº `InfluenceBus` æˆ–é…ç½®æ€»çº¿çš„ä¸€éƒ¨åˆ†ã€‚
*   **å½±å“**: è¿™æ˜¯ä¸€ä¸ª "éšè—çš„é€»è¾‘è¡¥ä¸"ï¼Œç ´åäº†ç³»ç»Ÿçš„çº¯ç²¹æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
*   **ä¿®æ­£è¦æ±‚**: å°†ç³»æ•°ç§»è‡³ `physics_kernel.injection_coefficients` é…ç½®ä¸­ã€‚

---

## ä¸‰ã€ ä¿®å¤å®æ–½è·¯çº¿å›¾ (Remediation Roadmap)

ä¸ºè¾¾åˆ° FDS-V1.4 åˆè§„æ ‡å‡†ï¼Œéœ€æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œä¿®å¤ï¼š

### Phase 1: è§£è€¦ä¸é…ç½®åŒ– (Decoupling)
1.  **Refactor**: é‡æ„ `compute_energy_flux`ï¼Œç§»é™¤æ‰€æœ‰ç¡¬ç¼–ç æ•°å€¼ï¼Œæ”¹ä¸ºä» `DEFAULT_FULL_ALGO_PARAMS` è¯»å–ã€‚
2.  **Config**: åœ¨ `registry.json` æˆ–å…¨å±€é…ç½®ä¸­æ·»åŠ  `injection` å‚æ•°æ®µï¼Œç§»é™¤ `registry_loader.py` ä¸­çš„é­”æœ¯æ•°å­—ã€‚

### Phase 2: ç²¾åº¦å‡çº§ (Precision Upgrade)
3.  **Upgrade**: å‡çº§ç¾Šåˆƒè®¡ç®—é€»è¾‘ï¼Œå¼•å…¥ `Hidden Stem Ratio` (è—å¹²æ¯”ä¾‹)ã€‚
4.  **Feature**: å®ç° "åº“åˆƒ" è¯†åˆ«é€»è¾‘ (Vault Logic)ã€‚

### Phase 3: éªŒè¯ (Validation)
5.  **Test**: ä½¿ç”¨ Tier A (500æ ·æœ¬) è¿›è¡Œå›å½’æµ‹è¯•ï¼Œç¡®ä¿ä¿®å¤åçš„èƒ½é‡åˆ†å¸ƒ (Energy Distribution) æ›´ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œä¸” SAI (ç³»ç»Ÿå¯¹é½æŒ‡æ•°) çš„æ–¹å·®é™ä½ã€‚

---

**å®¡è®¡ç»“è®º**: A-03 æ¨¡å—çš„"éª¨æ¶" (å®šä¹‰) æ˜¯å®Œå¥½çš„ï¼Œä½†"è‚Œè‚‰" (è®¡ç®—) å­˜åœ¨ä¸¥é‡çš„ç²¾åº¦å’Œç¡¬ç¼–ç é—®é¢˜ã€‚**å¿…é¡»ç«‹å³å¯åŠ¨ä»£ç é‡æ„**ã€‚
