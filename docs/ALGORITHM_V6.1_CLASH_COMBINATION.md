# ğŸ§ª Antigravity V6.1 - æ ¸å¿ƒç®—æ³•äºŒçº§è¡¥å……æ–‡æ¡£
## Clashes (å†²) ä¸ Combinations (åˆåŒ–) ç†è®ºæ¨¡å‹

> **Status**: ğŸ“‹ å¾…å®ç° (Pending Implementation)  
> **Target Version**: V6.1  
> **Created**: 2024-12-14  
> **Author**: Jin & Antigravity

---

## 1. å†² (Clashes) çš„æœ¬è´¨ä¸æ¨¡å‹

### 1.1 ç†è®ºå®šä¹‰
**å†²** ä¸ä»…ä»…æ˜¯"å…‹"ï¼Œè€Œæ˜¯ **"å¯¹ç«‹èƒ½é‡çš„æ¹®ç­ä¸æ¿€è¡"** (Energy Annihilation & Excitation)ã€‚

å½“ä¸¤ä¸ªåœ°æ”¯å¤„äºå¯¹å†²ä½ç½®æ—¶ï¼Œå®ƒä»¬çš„èƒ½é‡åœºå‘ç”Ÿå‰§çƒˆç¢°æ’ï¼Œå¯¼è‡´ï¼š
- **æ¹®ç­æ•ˆåº”**: åŒæ–¹èƒ½é‡ç›¸äº’æŠµæ¶ˆï¼Œå½¢æˆèƒ½é‡çœŸç©º
- **æ¿€è¡æ•ˆåº”**: ç¢°æ’äº§ç”Ÿå†²å‡»æ³¢ï¼Œå½±å“å‘¨å›´çš„èƒ½é‡åœº

### 1.2 åˆ†ç±»å»ºæ¨¡

#### 1.2.1 å››åº“å†² (Earth Clash) - è¾°æˆŒ / ä¸‘æœª
- **æœ¬è´¨**: "å¼€é”" (Vault Unlock)
- **ç‰©ç†ç‰¹å¾**: èƒ½é‡é‡Šæ”¾ï¼Œå‚¨å­˜çš„åŠ¿èƒ½è½¬åŒ–ä¸ºåŠ¨èƒ½
- **å·²å®ç°**: `TreasuryEngine` ä¸­çš„ `process_treasury_scoring()`
- **TODO**: å¢å¼º"å†²å¼€åçš„èƒ½é‡æµå‘"è®¡ç®—

```
è¾° â†â†’ æˆŒ  (æ°´åº“ vs ç«åº“)
ä¸‘ â†â†’ æœª  (é‡‘åº“ vs æœ¨åº“)
```

#### 1.2.2 å››æ­£å†² (Cardinal Clash) - å­åˆ / å¯é…‰
- **æœ¬è´¨**: "æˆ˜å±€" (Energy War)
- **ç‰©ç†ç‰¹å¾**: çº¯ç²¹çš„èƒ½é‡å¯¹æŠ—ï¼Œå¯¼è‡´ç»“æ„ä¸ç¨³
- **å½±å“é¢†åŸŸ**: å¿ƒç†å¥åº·ã€å®¶åº­å…³ç³»ã€äº‹ä¸šç¨³å®šæ€§

```
å­ â†â†’ åˆ  (Water vs Fire) - æ°´ç«æœªæµ
å¯ â†â†’ é…‰  (Wood vs Metal) - é‡‘æœ¨äº¤æˆ˜
```

#### 1.2.3 å››ç”Ÿå†² (Growth Clash) - å¯…ç”³ / å·³äº¥
- **æœ¬è´¨**: "ä½ç§»" (Displacement)
- **ç‰©ç†ç‰¹å¾**: å¯¼è‡´å˜åŠ¨ã€è½¦ç¥¸ã€è¿œè¡Œ
- **å½±å“é¢†åŸŸ**: å·¥ä½œå˜åŠ¨ã€å±…æ‰€è¿ç§»ã€äº¤é€šå®‰å…¨

```
å¯… â†â†’ ç”³  (Wood vs Metal) - é©¿é©¬å†²
å·³ â†â†’ äº¥  (Fire vs Water) - é©¿é©¬å†²
```

### 1.3 ç®—æ³•è®¾è®¡

**é‡è¦åŸåˆ™**: ä¸åº”åªæ˜¯ç®€å•çš„å‡åˆ†ï¼

```python
# ClashEngine ä¼ªä»£ç 
def calculate_clash_impact(clash_pair, favorable_elements, unfavorable_elements):
    """
    åŠ¨æ€å–œå¿Œåˆ¤å®šæ¨¡å‹
    """
    clashed_element = get_element(clash_pair[0])
    
    if clashed_element in favorable_elements:
        # å–œç¥è¢«å†² = å‡åˆ† (å—ä¼¤)
        return PENALTY_SCORE
    elif clashed_element in unfavorable_elements:
        # å¿Œç¥è¢«å†² = åŠ åˆ† (å»ç—…)
        return BONUS_SCORE
    else:
        # ä¸­æ€§å…ƒç´ è¢«å†² = å°å¹…æ³¢åŠ¨
        return NEUTRAL_SCORE
```

**TODO**: åˆ›å»º `ClashEngine` å¹¶å¼•å…¥"åŠ¨æ€å–œå¿Œåˆ¤å®š"ã€‚

---

## 2. åˆåŒ– (Combinations) çš„æœ¬è´¨ä¸æ¨¡å‹

### 2.1 ç†è®ºå®šä¹‰
**åˆåŒ–** æ˜¯ **"èƒ½é‡çš„é‡å­çº ç¼ ä¸æ³¢å‡½æ•°åç¼©"** (Quantum Entanglement & Collapse)ã€‚

å½“ç‰¹å®šåœ°æ”¯/å¤©å¹²ç»„åˆå‡ºç°æ—¶ï¼Œå®ƒä»¬çš„èƒ½é‡æ€å‘ç”Ÿ"çº ç¼ "ï¼Œåœ¨ç‰¹å®šæ¡ä»¶ä¸‹ä¼š"åç¼©"ä¸ºæ–°çš„èƒ½é‡æ€ã€‚

### 2.2 åˆ†ç±»å»ºæ¨¡

#### 2.2.1 å…­åˆ (Six Combinations) - ç¾ç»Š
- **æœ¬è´¨**: "é”å®š" (Locking)
- **ç‰©ç†ç‰¹å¾**: ä¸¤ä¸ªèƒ½é‡ä½“ç›¸äº’å¸å¼•ï¼Œå½¢æˆç¨³å®šçš„åŒä½“ç³»ç»Ÿ

```
å­ä¸‘åˆ (åŒ–åœŸ)   å¯…äº¥åˆ (åŒ–æœ¨)   å¯æˆŒåˆ (åŒ–ç«)
è¾°é…‰åˆ (åŒ–é‡‘)   å·³ç”³åˆ (åŒ–æ°´)   åˆæœªåˆ (åŒ–ç«/åœŸ)
```

**å…³é”®æ•ˆåº”**:
- åˆä½**å¿Œç¥**ä¸ºå‰ â†’ æŸç¼šæ•Œäºº
- åˆä½**å–œç¥**ä¸ºå‡¶ â†’ è´ªåˆå¿˜ç”Ÿ/è´ªåˆå¿˜å…‹

```python
# å…­åˆæ•ˆåº”ä¼ªä»£ç 
def evaluate_six_combination(branch1, branch2, favorable):
    if is_locked(branch1, favorable):
        # å–œç¥è¢«åˆä½ = å‡¶ (è´ªåˆå¿˜ç”Ÿ)
        return -LOCK_PENALTY
    elif is_locked(branch1, unfavorable):
        # å¿Œç¥è¢«åˆä½ = å‰ (åˆ¶æ•Œ)
        return +LOCK_BONUS
```

#### 2.2.2 ä¸‰åˆ (Triangular Combinations) - èšå˜
- **æœ¬è´¨**: "å…ƒç´ æ€§è´¨æ”¹å˜" (Transmutation)
- **ç‰©ç†ç‰¹å¾**: ä¸‰ä¸ªåœ°æ”¯å…±æŒ¯ï¼Œå‘ç”Ÿ"æ ¸èšå˜"ï¼Œäº§ç”Ÿæ–°å…ƒç´ 

```
ç”³å­è¾° â†’ åˆæ°´å±€  (Metal + Water + Earth â†’ Water)
äº¥å¯æœª â†’ åˆæœ¨å±€  (Water + Wood + Wood â†’ Wood)
å¯…åˆæˆŒ â†’ åˆç«å±€  (Wood + Fire + Fire â†’ Fire)
å·³é…‰ä¸‘ â†’ åˆé‡‘å±€  (Fire + Metal + Metal â†’ Metal)
```

**å…³é”®æ•ˆåº”**:
- å‚ä¸åˆå±€çš„åœ°æ”¯**æ”¹å˜å±æ€§**
- ä¾‹: ç”³å­è¾°åˆæ°´ â†’ ç”³é‡‘å’Œè¾°åœŸéƒ½å˜æˆäº†æ°´

#### 2.2.3 ä¸‰ä¼š (Directional Combinations) - æ–¹å±€
- **æœ¬è´¨**: "å…ƒç´ çº¯åŒ–" (Purification)
- **ç‰©ç†ç‰¹å¾**: åŒæ–¹ä½åœ°æ”¯ä¼šåˆï¼Œå¼ºåŒ–å•ä¸€å…ƒç´ 

```
å¯…å¯è¾° â†’ ä¼šæœ¨ (ä¸œæ–¹æœ¨)
å·³åˆæœª â†’ ä¼šç« (å—æ–¹ç«)
ç”³é…‰æˆŒ â†’ ä¼šé‡‘ (è¥¿æ–¹é‡‘)
äº¥å­ä¸‘ â†’ ä¼šæ°´ (åŒ—æ–¹æ°´)
```

### 2.3 ç®—æ³•è®¾è®¡

**å…³é”®æ´å¯Ÿ**: åˆåŒ–ä¼šå½»åº•æ”¹å˜åŸå±€çš„äº”è¡Œå¼ºå¼±è®¡ç®—ï¼

```python
# AlchemyEngine ä¼ªä»£ç 
class AlchemyEngine:
    """
    ç‚¼é‡‘å¼•æ“ - åœ¨è®¡ç®—äº”è¡Œåˆ†æ•°å‰ï¼Œå…ˆå¤„ç†å…ƒç´ çš„å˜æ€§
    """
    
    def process_combinations(self, branches):
        """
        æ­¥éª¤ 1: æ£€æµ‹ä¸‰åˆ/ä¸‰ä¼š
        æ­¥éª¤ 2: å¦‚æœæˆå±€ï¼Œä¿®æ”¹ç›¸å…³åœ°æ”¯çš„äº”è¡Œå±æ€§
        æ­¥éª¤ 3: è¿”å›ä¿®æ­£åçš„äº”è¡Œèƒ½é‡å›¾
        """
        transmuted_elements = {}
        
        # æ£€æµ‹ä¸‰åˆ
        if self.has_triangular_combo(branches):
            combo_result = self.get_triangular_result(branches)
            for branch in combo_result['members']:
                transmuted_elements[branch] = combo_result['element']
        
        return transmuted_elements
```

**TODO**: åˆ›å»º `AlchemyEngine` (ç‚¼é‡‘å¼•æ“) æˆ– `HarmonyEngine`

---

## 3. å®ç°è·¯çº¿å›¾

### Phase 1: ClashEngine (å†²å¼•æ“)
- [ ] å®ç°å››æ­£å†²æ£€æµ‹
- [ ] å®ç°å››ç”Ÿå†²æ£€æµ‹
- [ ] å¼•å…¥åŠ¨æ€å–œå¿Œåˆ¤å®š
- [ ] é›†æˆåˆ° QuantumEngine

### Phase 2: AlchemyEngine (åˆåŒ–å¼•æ“)
- [ ] å®ç°å…­åˆæ£€æµ‹ä¸é”å®šæ•ˆåº”
- [ ] å®ç°ä¸‰åˆæ£€æµ‹ä¸èšå˜æ•ˆåº”
- [ ] å®ç°ä¸‰ä¼šæ£€æµ‹ä¸çº¯åŒ–æ•ˆåº”
- [ ] äº”è¡Œèƒ½é‡å›¾å˜æ€§å¤„ç†
- [ ] é›†æˆåˆ° QuantumEngine

### Phase 3: ç²¾å‡†è°ƒå‚
- [ ] ä½¿ç”¨ QuantumLab æ§åˆ¶å°
- [ ] çœŸå®æ¡ˆä¾‹å›æµ‹
- [ ] é»„é‡‘å‚æ•°è®°å½•

---

## 4. å‚è€ƒèµ„æ–™

- `docs/SPRINT_5.3_SKULL_PROTOCOL.md` - éª·é«…åè®®å®ç°
- `docs/ALGORITHM_SUPPLEMENT_L2_STOREHOUSE.md` - å¢“åº“ç†è®º
- `core/config_rules.py` - ç®—æ³•å‚æ•°é…ç½®è¡¨

---

*Document prepared by Antigravity V6.0+ System*
*Last Updated: 2024-12-14 02:05 KST*
